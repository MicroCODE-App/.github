---
globs: app/*
alwaysApply: false
---

# App Component Rules (React Native Mobile)

## Architecture

The app is a **React Native** application using **Expo**:

- Cross-platform (iOS & Android)
- Shared authentication with web client
- Native device features

## Core Principles

### Mobile-First Design

- Design for touch interactions
- Consider screen sizes and orientations
- Optimize for mobile performance
- Handle offline states gracefully

### Code Sharing

- Share business logic with server/client where possible
- Reuse locale files from client/server
- Maintain consistent API patterns

## File Structure

### Components (`components/`)

- React Native components
- Follow React Native component patterns
- Use React Native UI primitives (View, Text, etc.)
- Consider platform-specific code when needed

### Views (`views/`)

- Screen components
- Organized by feature (auth, account, dashboard)
- Each view represents a screen/page

### Locales (`locales/`)

- Shared with client/server where possible
- Organized by language (en, es)
- Use i18next for translations

## React Native Patterns

### Navigation

- Use React Navigation (if configured)
- Follow mobile navigation patterns
- Handle deep linking

### Styling

- Use StyleSheet API or styled-components
- Consider platform-specific styles
- Test on both iOS and Android

### API Integration

- Use same API endpoints as web client
- Handle network errors gracefully
- Implement retry logic for failed requests

## Mobile-Specific Considerations

### Performance

- Optimize images and assets
- Use FlatList for long lists
- Implement lazy loading
- Minimize re-renders

### Native Features

- Camera access
- Push notifications
- Biometric authentication
- File system access

### Offline Support

- Cache API responses
- Queue actions when offline
- Sync when connection restored

## Code Style

- Follow React Native best practices
- Use functional components with hooks
- Async/await for async operations
- Clear comments for complex logic

## Testing

- Test on both iOS and Android
- Test on different screen sizes
- Test offline scenarios
- Test authentication flows

## Best Practices

- Keep components small and focused
- Reuse components across views
- Follow existing code patterns
- Maintain consistency with web client where applicable
